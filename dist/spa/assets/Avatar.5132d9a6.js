import{a as E,b as D}from"./plugin-vue_export-helper.b4be3b85.js";import{k as w,c as t,h,g as I,ar as Y,r as n,R as M,as as G,at as K,V as Z,ap as H,f as _,X as C,Y as N,Z as S,_ as W}from"./index.31ee3d3b.js";import{a as k}from"./axios.bf56c3c5.js";import{Q as ee}from"./QChip.604d90e6.js";import{_ as ae}from"./Comp.7a3caa78.js";const te={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},B={xs:2,sm:4,md:8,lg:16,xl:24};var _e=w({name:"QSeparator",props:{...E,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const s=I(),r=D(e,s.proxy.$q),m=t(()=>e.vertical===!0?"vertical":"horizontal"),l=t(()=>` q-separator--${m.value}`),g=t(()=>e.inset!==!1?`${l.value}-${te[e.inset]}`:""),p=t(()=>`q-separator${l.value}${g.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(r.value===!0?" q-separator--dark":"")),c=t(()=>{const i={};if(e.size!==void 0&&(i[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const d=e.spaced===!0?`${B.md}px`:e.spaced in B?`${B[e.spaced]}px`:e.spaced,v=e.vertical===!0?["Left","Right"]:["Top","Bottom"];i[`margin${v[0]}`]=i[`margin${v[1]}`]=d}return i});return()=>h("hr",{class:p.value,style:c.value,"aria-orientation":m.value})}});const F="89180c87ecdf4d6aaa7d23a3fd099b16",A="https://ath-gpt4-o-dev.openai.azure.com/openai/deployments/gpt-4o-std-240513/chat/completions?api-version=2024-02-15-preview",Ce=Y("redacaoStore",()=>{const e=n(""),s=n(""),r=n(""),m=n(""),l=n(null),g=n(null),p=n(!1),c=n(!1),i=n(""),d=n(!1),v=n(!1),f=n(!1),$=n([]),y=n([{id:1,tema:"Impacto da Tecnologia na Educa\xE7\xE3o",tipo:"Disserta\xE7\xE3o",notaFinal:95,plagiado:!1,avaliacaoTipo:"ENEM"},{id:2,tema:"A Crise Clim\xE1tica e Suas Consequ\xEAncias",tipo:"Carta aberta",notaFinal:88,plagiado:!1,avaliacaoTipo:"Fuvest"},{id:3,tema:"O Papel da Arte na Sociedade",tipo:"Cr\xF4nica reflexiva",notaFinal:78,plagiado:!0,avaliacaoTipo:"ITA"},{id:4,tema:"Desafios da Sa\xFAde P\xFAblica no Brasil",tipo:"Resenha",notaFinal:92,plagiado:!1,avaliacaoTipo:"Unicamp"},{id:5,tema:"Inclus\xE3o Social e Diversidade Cultural",tipo:"Poema",notaFinal:85,plagiado:!1,avaliacaoTipo:"ENEM"},{id:6,tema:"O Papel da Arte na Sociedade",tipo:"Cr\xF4nica reflexiva",notaFinal:78,plagiado:!0,avaliacaoTipo:"ITA"},{id:7,tema:"Desafios da Sa\xFAde P\xFAblica no Brasil",tipo:"Resenha",notaFinal:92,plagiado:!1,avaliacaoTipo:"Unicamp"},{id:8,tema:"Impacto da Tecnologia na Educa\xE7\xE3o",tipo:"Disserta\xE7\xE3o",notaFinal:95,plagiado:!1,avaliacaoTipo:"ENEM"},{id:9,tema:"A Crise Clim\xE1tica e Suas Consequ\xEAncias",tipo:"Carta aberta",notaFinal:88,plagiado:!1,avaliacaoTipo:"Fuvest"},{id:10,tema:"Impacto da Tecnologia na Educa\xE7\xE3o",tipo:"Disserta\xE7\xE3o",notaFinal:95,plagiado:!1,avaliacaoTipo:"ENEM"},{id:11,tema:"A Crise Clim\xE1tica e Suas Consequ\xEAncias",tipo:"Carta aberta",notaFinal:88,plagiado:!1,avaliacaoTipo:"Fuvest"}]),q=()=>{v.value=!v.value,l.value=null,d.value=null,f.value=!1},T=o=>{g.value=o.target.files[0]},x=t(()=>e.value&&s.value),Q=async()=>{var o,u;p.value=!0,c.value=!1,l.value=null,d.value=null,f.value=!1;try{v.value&&await j(),d.value||await L(),f.value=!0}catch(a){i.value=`C\xF3digo: ${((o=a.response)==null?void 0:o.status)||""}
Mensagem: ${((u=a.response)==null?void 0:u.statusText)||a.message}`,c.value=!0}finally{p.value=!1}},j=async()=>{var o,u;try{const b=(await k.post(A,{messages:[{role:"user",content:`Verifique se a reda\xE7\xE3o abaixo cont\xE9m pl\xE1gio ou foi gerado por IA, se houver pl\xE1gio ou foi gerado por IA, inicie a resposta com o texto (conte\xFAdo plagiado):
Tema: ${e.value}
Texto: ${s.value}`}]},{headers:{"Content-Type":"application/json","api-key":F}})).data.choices[0].message.content.toLowerCase();d.value=b.includes("conte\xFAdo plagiado"),console.log(b)}catch(a){i.value=`C\xF3digo: ${((o=a.response)==null?void 0:o.status)||""}
Mensagem: ${((u=a.response)==null?void 0:u.statusText)||a.message}`,c.value=!0}},O=async()=>{var o,u;try{const a=await k.post(A,{messages:[{role:"user",content:"Gere um tema para uma reda\xE7\xE3o de vestibular e retorne somente o tema, sem coment\xE1rios"}]},{headers:{"Content-Type":"application/json","api-key":F}});e.value=a.data.choices[0].message.content}catch(a){i.value=`C\xF3digo: ${((o=a.response)==null?void 0:o.status)||""}
Mensagem: ${((u=a.response)==null?void 0:u.statusText)||a.message}`,c.value=!0}},L=async()=>{var u,a;const o={messages:[{role:"user",content:`Considerando os crit\xE9rios de avalia\xE7\xE3o de reda\xE7\xF5es adotados pelo ${r.value}, qual nota seria atribu\xEDda para a reda\xE7\xE3o abaixo?
Comente cada um dos itens avaliados e qual a nota para cada item.
Tema: ${e.value}
Texto: ${s.value}
Responda com um JSON v\xE1lido com a seguintes campos resultado: competencias: [{nomeCompetencia:"",comentCompetencia:"",notaCompetencia:""}], notaFinal:"", comentarioFinal:""`}]};console.log("Request Data: ",o);try{const R=(await k.post(A,o,{headers:{"Content-Type":"application/json","api-key":F}})).data.choices[0].message.content;console.log(R);const X=V(R);l.value=X}catch(b){i.value=`C\xF3digo: ${((u=b.response)==null?void 0:u.status)||""}
Mensagem: ${((a=b.response)==null?void 0:a.statusText)||b.message}`,c.value=!0}},V=o=>{console.log("Raw content:",o);const u=o.replace(/```json/g,"").replace(/```/g,"").trim();console.log("Cleaned JSON string:",u);try{const a=JSON.parse(u);return console.log("Parsed JSON object:",a),a.resultado}catch(a){return console.error("JSON parse error:",a),c.value=!0,i.value="Erro ao parsear a resposta da API.",null}},J=()=>{if(l.value||d.value){const o={id:new Date().getTime(),tema:e.value,texto:s.value,avaliacaoTipo:r.value,generoTextual:m.value,resultado:l.value,plagiado:d.value};$.value.push(o),U()}else i.value="A avalia\xE7\xE3o deve ser feita antes de salvar.",c.value=!0},U=()=>{alert("Reda\xE7\xE3o salva com sucesso!")};return{tema:e,texto:s,avaliacaoTipo:r,generoTextual:m,resultado:l,arquivo:g,loading:p,error:c,errorMessage:i,plagiado:d,checkPlagiarism:v,avaliacaoFeita:f,savedResults:$,redacoes:y,toggleCheckPlagiarism:q,handleFileUpload:T,isFormValid:x,submitRedacao:Q,salvarResultados:J,refazer:()=>{l.value=null,d.value=null,f.value=!1,v.value=!1},loadSavedResults:()=>{},gerarTema:O}}),oe=["top","middle","bottom"];var P=w({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>oe.includes(e)}},setup(e,{slots:s}){const r=t(()=>e.align!==void 0?{verticalAlign:e.align}:null),m=t(()=>{const l=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(l!==void 0?` text-${l}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>h("div",{class:m.value,style:r.value,role:"status","aria-label":e.label},M(s.default,e.label!==void 0?[e.label]:[]))}});const se={xs:2,sm:4,md:6,lg:10,xl:14};function z(e,s,r){return{transform:s===!0?`translateX(${r.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var le=w({name:"QLinearProgress",props:{...E,...G,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:s}){const{proxy:r}=I(),m=D(e,r.$q),l=K(e,se),g=t(()=>e.indeterminate===!0||e.query===!0),p=t(()=>e.reverse!==e.query),c=t(()=>({...l.value!==null?l.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),i=t(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),d=t(()=>z(e.buffer!==void 0?e.buffer:1,p.value,r.$q)),v=t(()=>`with${e.instantFeedback===!0?"out":""}-transition`),f=t(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${v.value} q-linear-progress__track--${m.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),$=t(()=>z(g.value===!0?1:e.value,p.value,r.$q)),y=t(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${v.value} q-linear-progress__model--${g.value===!0?"in":""}determinate`),q=t(()=>({width:`${e.value*100}%`})),T=t(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${v.value}`);return()=>{const x=[h("div",{class:f.value,style:d.value}),h("div",{class:y.value,style:$.value})];return e.stripe===!0&&g.value===!1&&x.push(h("div",{class:T.value,style:q.value})),h("div",{class:i.value,style:c.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},M(s.default,x))}}});const ne={class:"q-gutter-sm"},re=S("img",{src:ae,alt:""},null,-1),ie=S("b",null," Fulana de Tal ",-1),ue=S("br",null,null,-1),ce=S("b",{class:"q-ml-sm"},"XP",-1),de={class:"absolute-full flex flex-center"},Se=Object.assign({name:"Avatar"},{__name:"Avatar",setup(e){const s=n(.6);return(r,m)=>(Z(),H("div",ne,[_(ee,{size:"1.2em",style:{color:"#0086f3",opacity:"0.85","background-color":"transparent"}},{default:C(()=>[_(W,null,{default:C(()=>[re]),_:1}),ie]),_:1}),N(),ue,_(P,{align:"bottom",rounded:"",color:"primary","text-color":"black",label:s.value*100+40},{default:C(()=>[ce]),_:1},8,["label"]),_(le,{rounded:"",size:"15px",value:s.value,class:"q-mt-md",style:{width:"10%"}},{default:C(()=>[S("div",de,[_(P,{class:"text-bold",color:"transparent","text-color":"black",label:s.value*100},{default:C(()=>[N("%")]),_:1},8,["label"])])]),_:1},8,["value"])]))}});export{_e as Q,Se as _,Ce as u};
