import{a as E,b as D}from"./plugin-vue_export-helper.e4a8a083.js";import{k as B,c as a,h,g as I,ar as X,r as n,R as M,as as Y,at as K,V as Z,ap as G,f as _,X as C,Y as A,Z as S,_ as H}from"./index.7c46ebd4.js";import{a as R}from"./axios.bf56c3c5.js";import{Q as W}from"./QChip.138e8331.js";import{_ as ee}from"./Comp.7a3caa78.js";const ae={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},k={xs:2,sm:4,md:8,lg:16,xl:24};var he=B({name:"QSeparator",props:{...E,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=I(),i=D(e,t.proxy.$q),m=a(()=>e.vertical===!0?"vertical":"horizontal"),o=a(()=>` q-separator--${m.value}`),g=a(()=>e.inset!==!1?`${o.value}-${ae[e.inset]}`:""),f=a(()=>`q-separator${o.value}${g.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(i.value===!0?" q-separator--dark":"")),d=a(()=>{const r={};if(e.size!==void 0&&(r[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${k.md}px`:e.spaced in k?`${k[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];r[`margin${c[0]}`]=r[`margin${c[1]}`]=u}return r});return()=>h("hr",{class:f.value,style:d.value,"aria-orientation":m.value})}});const w="89180c87ecdf4d6aaa7d23a3fd099b16",N="https://ath-gpt4-o-dev.openai.azure.com/openai/deployments/gpt-4o-std-240513/chat/completions?api-version=2024-02-15-preview",_e=X("redacaoStore",()=>{const e=n(""),t=n(""),i=n(""),m=n(""),o=n(null),g=n(null),f=n(!1),d=n(!1),r=n(""),u=n(!1),c=n(!1),p=n(!1),x=n([]),q=n([{id:1,tema:"Impacto da Tecnologia na Educa\xE7\xE3o",tipo:"Disserta\xE7\xE3o",notaFinal:95,plagiado:!1,avaliacaoTipo:"ENEM"},{id:2,tema:"A Crise Clim\xE1tica e Suas Consequ\xEAncias",tipo:"Carta aberta",notaFinal:88,plagiado:!1,avaliacaoTipo:"Fuvest"},{id:3,tema:"O Papel da Arte na Sociedade",tipo:"Cr\xF4nica reflexiva",notaFinal:78,plagiado:!0,avaliacaoTipo:"ITA"},{id:4,tema:"Desafios da Sa\xFAde P\xFAblica no Brasil",tipo:"Resenha",notaFinal:92,plagiado:!1,avaliacaoTipo:"Unicamp"},{id:5,tema:"Inclus\xE3o Social e Diversidade Cultural",tipo:"Poema",notaFinal:85,plagiado:!1,avaliacaoTipo:"ENEM"},{id:6,tema:"O Papel da Arte na Sociedade",tipo:"Cr\xF4nica reflexiva",notaFinal:78,plagiado:!0,avaliacaoTipo:"ITA"},{id:7,tema:"Desafios da Sa\xFAde P\xFAblica no Brasil",tipo:"Resenha",notaFinal:92,plagiado:!1,avaliacaoTipo:"Unicamp"},{id:8,tema:"Impacto da Tecnologia na Educa\xE7\xE3o",tipo:"Disserta\xE7\xE3o",notaFinal:95,plagiado:!1,avaliacaoTipo:"ENEM"},{id:9,tema:"A Crise Clim\xE1tica e Suas Consequ\xEAncias",tipo:"Carta aberta",notaFinal:88,plagiado:!1,avaliacaoTipo:"Fuvest"},{id:10,tema:"Impacto da Tecnologia na Educa\xE7\xE3o",tipo:"Disserta\xE7\xE3o",notaFinal:95,plagiado:!1,avaliacaoTipo:"ENEM"},{id:11,tema:"A Crise Clim\xE1tica e Suas Consequ\xEAncias",tipo:"Carta aberta",notaFinal:88,plagiado:!1,avaliacaoTipo:"Fuvest"}]),y=()=>{c.value=!c.value,o.value=null,u.value=null,p.value=!1},T=s=>{g.value=s.target.files[0]},$=a(()=>e.value&&t.value),Q=async()=>{var s,v;f.value=!0,d.value=!1,o.value=null,u.value=null,p.value=!1;try{c.value&&await O(),u.value||await j(),p.value=!0}catch(l){r.value=`C\xF3digo: ${((s=l.response)==null?void 0:s.status)||""}
Mensagem: ${((v=l.response)==null?void 0:v.statusText)||l.message}`,d.value=!0}finally{f.value=!1}},O=async()=>{var s,v;try{const b=(await R.post(N,{messages:[{role:"user",content:`Verifique se a reda\xE7\xE3o abaixo cont\xE9m pl\xE1gio ou foi gerado por IA, se houver pl\xE1gio ou foi gerado por IA, inicie a resposta com o texto (conte\xFAdo plagiado):
Tema: ${e.value}
Texto: ${t.value}`}]},{headers:{"Content-Type":"application/json","api-key":w}})).data.choices[0].message.content.toLowerCase();u.value=b.includes("conte\xFAdo plagiado"),console.log(b)}catch(l){r.value=`C\xF3digo: ${((s=l.response)==null?void 0:s.status)||""}
Mensagem: ${((v=l.response)==null?void 0:v.statusText)||l.message}`,d.value=!0}},j=async()=>{var v,l;const s={messages:[{role:"user",content:`Considerando os crit\xE9rios de avalia\xE7\xE3o de reda\xE7\xF5es adotados pelo ${i.value}, qual nota seria atribu\xEDda para a reda\xE7\xE3o abaixo?
Comente cada um dos itens avaliados e qual a nota para cada item.
Tema: ${e.value}
Texto: ${t.value}
Responda com um JSON v\xE1lido com a seguintes campos resultado: competencias: [{nomeCompetencia:"",comentCompetencia:"",notaCompetencia:""}], notaFinal:"", comentarioFinal:""`}]};console.log("Request Data: ",s);try{const F=(await R.post(N,s,{headers:{"Content-Type":"application/json","api-key":w}})).data.choices[0].message.content;console.log(F);const U=L(F);o.value=U}catch(b){r.value=`C\xF3digo: ${((v=b.response)==null?void 0:v.status)||""}
Mensagem: ${((l=b.response)==null?void 0:l.statusText)||b.message}`,d.value=!0}},L=s=>{console.log("Raw content:",s);const v=s.replace(/```json/g,"").replace(/```/g,"").trim();console.log("Cleaned JSON string:",v);try{const l=JSON.parse(v);return console.log("Parsed JSON object:",l),l.resultado}catch(l){return console.error("JSON parse error:",l),d.value=!0,r.value="Erro ao parsear a resposta da API.",null}},V=()=>{if(o.value||u.value){const s={id:new Date().getTime(),tema:e.value,texto:t.value,avaliacaoTipo:i.value,generoTextual:m.value,resultado:o.value,plagiado:u.value};x.value.push(s),J()}else r.value="A avalia\xE7\xE3o deve ser feita antes de salvar.",d.value=!0},J=()=>{alert("Reda\xE7\xE3o salva com sucesso!")};return{tema:e,texto:t,avaliacaoTipo:i,generoTextual:m,resultado:o,arquivo:g,loading:f,error:d,errorMessage:r,plagiado:u,checkPlagiarism:c,avaliacaoFeita:p,savedResults:x,redacoes:q,toggleCheckPlagiarism:y,handleFileUpload:T,isFormValid:$,submitRedacao:Q,salvarResultados:V,refazer:()=>{o.value=null,u.value=null,p.value=!1,c.value=!1},loadSavedResults:()=>{}}}),te=["top","middle","bottom"];var P=B({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>te.includes(e)}},setup(e,{slots:t}){const i=a(()=>e.align!==void 0?{verticalAlign:e.align}:null),m=a(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>h("div",{class:m.value,style:i.value,role:"status","aria-label":e.label},M(t.default,e.label!==void 0?[e.label]:[]))}});const oe={xs:2,sm:4,md:6,lg:10,xl:14};function z(e,t,i){return{transform:t===!0?`translateX(${i.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var le=B({name:"QLinearProgress",props:{...E,...Y,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:i}=I(),m=D(e,i.$q),o=K(e,oe),g=a(()=>e.indeterminate===!0||e.query===!0),f=a(()=>e.reverse!==e.query),d=a(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),r=a(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),u=a(()=>z(e.buffer!==void 0?e.buffer:1,f.value,i.$q)),c=a(()=>`with${e.instantFeedback===!0?"out":""}-transition`),p=a(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${c.value} q-linear-progress__track--${m.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),x=a(()=>z(g.value===!0?1:e.value,f.value,i.$q)),q=a(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${c.value} q-linear-progress__model--${g.value===!0?"in":""}determinate`),y=a(()=>({width:`${e.value*100}%`})),T=a(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${c.value}`);return()=>{const $=[h("div",{class:p.value,style:u.value}),h("div",{class:q.value,style:x.value})];return e.stripe===!0&&g.value===!1&&$.push(h("div",{class:T.value,style:y.value})),h("div",{class:r.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},M(t.default,$))}}});const se={class:"q-gutter-sm"},ne=S("img",{src:ee,alt:""},null,-1),ie=S("b",null," Fulana de Tal ",-1),re=S("br",null,null,-1),ue=S("b",{class:"q-ml-sm"},"XP",-1),ce={class:"absolute-full flex flex-center"},Ce=Object.assign({name:"Avatar"},{__name:"Avatar",setup(e){const t=n(.6);return(i,m)=>(Z(),G("div",se,[_(W,{size:"1.2em",style:{color:"#0086f3",opacity:"0.85","background-color":"transparent"}},{default:C(()=>[_(H,null,{default:C(()=>[ne]),_:1}),ie]),_:1}),A(),re,_(P,{align:"bottom",rounded:"",color:"primary","text-color":"black",label:t.value*100+40},{default:C(()=>[ue]),_:1},8,["label"]),_(le,{rounded:"",size:"15px",value:t.value,class:"q-mt-md",style:{width:"10%"}},{default:C(()=>[S("div",ce,[_(P,{class:"text-bold",color:"transparent","text-color":"black",label:t.value*100},{default:C(()=>[A("%")]),_:1},8,["label"])])]),_:1},8,["value"])]))}});export{he as Q,Ce as _,_e as u};
