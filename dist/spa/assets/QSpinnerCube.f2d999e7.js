import{b as se,a as re,c as ue}from"./plugin-vue_export-helper.e4a8a083.js";import{r as _,c as o,h as l,at as ce,R as de,l as Z,as as fe,g as ee,L as W,al as w,k as te,w as J,u as me,a7 as U,a8 as ve,aJ as ge,aK as he}from"./index.7c46ebd4.js";import{d as be,h as ke}from"./QInput.c83e1a6c.js";import{a as ye,u as xe,b as pe,c as Se,k as we,l as qe,m as Ce,d as Te,e as Be,r as Y,o as G,f as _e,n as Ve,q as Ee}from"./use-prevent-scroll.5fcfcee8.js";function Fe(t,m){const e=_(null),g=o(()=>t.disable===!0?null:l("span",{ref:e,class:"no-outline",tabindex:-1}));function h(s){const r=m.value;s!==void 0&&s.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():e.value!==null&&(s===void 0||r!==null&&r.contains(s.target)===!0)&&e.value.focus()}return{refocusTargetEl:g,refocusTarget:h}}var $e={xs:30,sm:35,md:40,lg:50,xl:60};const Oe={...re,...fe,...be,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ae=["update:modelValue"];function He(t,m){const{props:e,slots:g,emit:h,proxy:s}=ee(),{$q:r}=s,b=se(e,r),c=_(null),{refocusTargetEl:d,refocusTarget:k}=Fe(e,c),q=ce(e,$e),v=o(()=>e.val!==void 0&&Array.isArray(e.modelValue)),y=o(()=>{const a=w(e.val);return v.value===!0?e.modelValue.findIndex(f=>w(f)===a):-1}),u=o(()=>v.value===!0?y.value!==-1:w(e.modelValue)===w(e.trueValue)),x=o(()=>v.value===!0?y.value===-1:w(e.modelValue)===w(e.falseValue)),C=o(()=>u.value===!1&&x.value===!1),M=o(()=>e.disable===!0?-1:e.tabindex||0),V=o(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(b.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),z=o(()=>{const a=u.value===!0?"truthy":x.value===!0?"falsy":"indet",f=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?u.value===!0:x.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${a}${f}`}),E=o(()=>{const a={type:"checkbox"};return e.name!==void 0&&Object.assign(a,{".checked":u.value,"^checked":u.value===!0?"checked":void 0,name:e.name,value:v.value===!0?e.val:e.trueValue}),a}),F=ke(E),P=o(()=>{const a={tabindex:M.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":C.value===!0?"mixed":u.value===!0?"true":"false"};return e.disable===!0&&(a["aria-disabled"]="true"),a});function T(a){a!==void 0&&(W(a),k(a)),e.disable!==!0&&h("update:modelValue",p(),a)}function p(){if(v.value===!0){if(u.value===!0){const a=e.modelValue.slice();return a.splice(y.value,1),a}return e.modelValue.concat([e.val])}if(u.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(x.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function R(a){(a.keyCode===13||a.keyCode===32)&&W(a)}function D(a){(a.keyCode===13||a.keyCode===32)&&T(a)}const O=m(u,C);return Object.assign(s,{toggle:T}),()=>{const a=O();e.disable!==!0&&F(a,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const f=[l("div",{class:z.value,style:q.value,"aria-hidden":"true"},a)];d.value!==null&&f.push(d.value);const $=e.label!==void 0?de(g.default,[e.label]):Z(g.default);return $!==void 0&&f.push(l("div",{class:`q-${t}__label q-anchor--skip`},$)),l("div",{ref:c,class:V.value,...P.value,onClick:T,onKeydown:R,onKeyup:D},f)}}let I=0;const Ie={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},X={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Ke=te({name:"QDialog",inheritAttrs:!1,props:{...ye,...xe,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:t=>["standard","top","bottom","left","right"].includes(t)}},emits:[...pe,"shake","click","escapeKey"],setup(t,{slots:m,emit:e,attrs:g}){const h=ee(),s=_(null),r=_(!1),b=_(!1);let c=null,d=null,k,q;const v=o(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:y}=_e(),{registerTimeout:u}=Se(),{registerTick:x,removeTick:C}=we(),{transitionProps:M,transitionStyle:V}=qe(t,()=>X[t.position][0],()=>X[t.position][1]),z=o(()=>V.value+(t.backdropFilter!==void 0?`;backdrop-filter:${t.backdropFilter};-webkit-backdrop-filter:${t.backdropFilter}`:"")),{showPortal:E,hidePortal:F,portalIsAccessible:P,renderPortal:T}=Ce(h,s,ie,"dialog"),{hide:p}=Te({showing:r,hideOnRouteChange:v,handleShow:ae,handleHide:ne,processOnMount:!0}),{addToHistory:R,removeFromHistory:D}=Be(r,p,v),O=o(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${Ie[t.position]}`+(b.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),a=o(()=>r.value===!0&&t.seamless!==!0),f=o(()=>t.autoClose===!0?{onClick:le}:{}),$=o(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${a.value===!0?"modal":"seamless"}`,g.class]);J(()=>t.maximized,n=>{r.value===!0&&K(n)}),J(a,n=>{y(n),n===!0?(Ve(L),Ee(H)):(Y(L),G(H))});function ae(n){R(),d=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,K(t.maximized),E(),b.value=!0,t.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),x(B)):C(),u(()=>{if(h.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:i,bottom:S}=document.activeElement.getBoundingClientRect(),{innerHeight:Q}=window,j=window.visualViewport!==void 0?window.visualViewport.height:Q;i>0&&S>j/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-j,S>=Q?1/0:Math.ceil(document.scrollingElement.scrollTop+S-j/2))),document.activeElement.scrollIntoView()}q=!0,s.value.click(),q=!1}E(!0),b.value=!1,e("show",n)},t.transitionDuration)}function ne(n){C(),D(),N(!0),b.value=!0,F(),d!==null&&(((n&&n.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),u(()=>{F(!0),b.value=!1,e("hide",n)},t.transitionDuration)}function B(n){ue(()=>{let i=s.value;if(i!==null){if(n!==void 0){const S=i.querySelector(n);if(S!==null){S.focus({preventScroll:!0});return}}i.contains(document.activeElement)!==!0&&(i=i.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.querySelector("[autofocus], [data-autofocus]")||i,i.focus({preventScroll:!0}))}})}function A(n){n&&typeof n.focus=="function"?n.focus({preventScroll:!0}):B(),e("shake");const i=s.value;i!==null&&(i.classList.remove("q-animate--scale"),i.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,s.value!==null&&(i.classList.remove("q-animate--scale"),B())},170))}function H(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&A():(e("escapeKey"),p()))}function N(n){c!==null&&(clearTimeout(c),c=null),(n===!0||r.value===!0)&&(K(!1),t.seamless!==!0&&(y(!1),Y(L),G(H))),n!==!0&&(d=null)}function K(n){n===!0?k!==!0&&(I<1&&document.body.classList.add("q-body--dialog"),I++,k=!0):k===!0&&(I<2&&document.body.classList.remove("q-body--dialog"),I--,k=!1)}function le(n){q!==!0&&(p(n),e("click",n))}function oe(n){t.persistent!==!0&&t.noBackdropDismiss!==!0?p(n):t.noShake!==!0&&A()}function L(n){t.allowFocusOutside!==!0&&P.value===!0&&ve(s.value,n.target)!==!0&&B('[tabindex]:not([tabindex="-1"])')}Object.assign(h.proxy,{focus:B,shake:A,__updateRefocusTarget(n){d=n||null}}),me(N);function ie(){return l("div",{role:"dialog","aria-modal":a.value===!0?"true":"false",...g,class:$.value},[l(U,{name:"q-transition--fade",appear:!0},()=>a.value===!0?l("div",{class:"q-dialog__backdrop fixed-full",style:z.value,"aria-hidden":"true",tabindex:-1,onClick:oe}):null),l(U,M.value,()=>r.value===!0?l("div",{ref:s,class:O.value,style:V.value,tabindex:-1,...f.value},Z(m.default)):null)])}return T}});const Me=[l("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none"}),l("g",{transform:"translate(25 25)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.9"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),l("g",{transform:"translate(75 25)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.8"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.1s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),l("g",{transform:"translate(25 75)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.7"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.3s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),l("g",{transform:"translate(75 75)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.6"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.2s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])])];var Le=te({name:"QSpinnerCube",props:ge,setup(t){const{cSize:m,classes:e}=he(t);return()=>l("svg",{class:e.value,width:m.value,height:m.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Me)}});export{Le as Q,Ke as a,Ae as b,He as c,Fe as d,$e as o,Oe as u};
