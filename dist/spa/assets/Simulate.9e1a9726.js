import{h as o,k as A,ar as Y,as as X,r as f,c as C,Y as O,N as Z,l as $,g as K,I as G,ac as L,aF as ee,aG as ae,y as te,a3 as oe,aq as le,o as ne,Q as h,ag as _,V as c,f as b,S,X as w,Z as x,aA as I,R as P,U as V,F as U,ah as z,J as re,$ as se,a0 as ie}from"./index.712e047d.js";import{u as H,a as J,_ as de}from"./plugin-vue_export-helper.85c36af5.js";import{o as ue,k as ce,l as me,m as ve,n as he,h as be,q as pe,s as ge,i as fe,Q as _e,j as ye}from"./QCardActions.aaa3b262.js";import{e as ke,i as xe,Q as Ce}from"./QInput.293e31ed.js";import{Q as Se}from"./QForm.a08f7018.js";import{a as T,Q as D}from"./QCard.b379f1ce.js";import{a as qe}from"./axios.bf56c3c5.js";import"./use-timeout.3c631f6b.js";const we=o("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[o("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),o("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Ie=A({name:"QRadio",props:{...H,...Y,...ke,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:a}=K(),p=J(e,a.$q),y=X(e,ue),r=f(null),{refocusTargetEl:s,refocusTarget:m}=ce(e,r),d=C(()=>L(e.modelValue)===L(e.val)),l=C(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(p.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),k=C(()=>{const i=e.color!==void 0&&(e.keepColor===!0||d.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${d.value===!0?"truthy":"falsy"}${i}`}),g=C(()=>(d.value===!0?e.checkedIcon:e.uncheckedIcon)||null),M=C(()=>e.disable===!0?-1:e.tabindex||0),N=C(()=>{const i={type:"radio"};return e.name!==void 0&&Object.assign(i,{".checked":d.value===!0,"^checked":d.value===!0?"checked":void 0,name:e.name,value:e.val}),i}),Q=xe(N);function u(i){i!==void 0&&(G(i),m(i)),e.disable!==!0&&d.value!==!0&&n("update:modelValue",e.val,i)}function v(i){(i.keyCode===13||i.keyCode===32)&&G(i)}function E(i){(i.keyCode===13||i.keyCode===32)&&u(i)}return Object.assign(a,{set:u}),()=>{const i=g.value!==null?[o("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[o(O,{class:"q-radio__icon",name:g.value})])]:[we];e.disable!==!0&&Q(i,"unshift"," q-radio__native q-ma-none q-pa-none");const B=[o("div",{class:k.value,style:y.value,"aria-hidden":"true"},i)];s.value!==null&&B.push(s.value);const F=e.label!==void 0?Z(t.default,[e.label]):$(t.default);return F!==void 0&&B.push(o("div",{class:"q-radio__label q-anchor--skip"},F)),o("div",{ref:r,class:l.value,tabindex:M.value,role:"radio","aria-label":e.label,"aria-checked":d.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:u,onKeydown:v,onKeyup:E},B)}}});const Ve=o("div",{key:"svg",class:"q-checkbox__bg absolute"},[o("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[o("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),o("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ae=A({name:"QCheckbox",props:me,emits:ve,setup(e){function t(n,a){const p=C(()=>(n.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>p.value!==null?[o("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[o(O,{class:"q-checkbox__icon",name:p.value})])]:[Ve]}return he("checkbox",t)}});const W={radio:Ie,checkbox:Ae,toggle:be},Me=Object.keys(W);var j=A({name:"QOptionGroup",props:{...H,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{type:String,default:"radio",validator:e=>Me.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:a}}=K(),p=Array.isArray(e.modelValue);e.type==="radio"?p===!0&&console.error("q-option-group: model should not be array"):p===!1&&console.error("q-option-group: model should be array in your case");const y=J(e,a),r=C(()=>W[e.type]),s=C(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),m=C(()=>{const l={role:"group"};return e.type==="radio"&&(l.role="radiogroup",e.disable===!0&&(l["aria-disabled"]="true")),l});function d(l){t("update:modelValue",l)}return()=>o("div",{class:s.value,...m.value},e.options.map((l,k)=>{const g=n["label-"+k]!==void 0?()=>n["label-"+k](l):n.label!==void 0?()=>n.label(l):void 0;return o("div",[o(r.value,{modelValue:e.modelValue,val:l.value,name:l.name===void 0?e.name:l.name,disable:e.disable||l.disable,label:g===void 0?l.label:null,leftLabel:l.leftLabel===void 0?e.leftLabel:l.leftLabel,color:l.color===void 0?e.color:l.color,checkedIcon:l.checkedIcon,uncheckedIcon:l.uncheckedIcon,dark:l.dark||y.value,size:l.size===void 0?e.size:l.size,dense:e.dense,keepColor:l.keepColor===void 0?e.keepColor:l.keepColor,"onUpdate:modelValue":d},g)])}))}});const Ne=[o("rect",{y:"10",width:"15",height:"120",rx:"6"},[o("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),o("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[o("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),o("rect",{x:"60",width:"15",height:"140",rx:"6"},[o("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),o("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[o("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),o("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[o("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];var Qe=A({name:"QSpinnerBars",props:ee,setup(e){const{cSize:t,classes:n}=ae(e);return()=>o("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},Ne)}});function R(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Ee=te({name:"close-popup",beforeMount(e,{value:t}){const n={depth:R(t),handler(a){n.depth!==0&&setTimeout(()=>{const p=pe(e);p!==void 0&&ge(p,a,n.depth)})},handlerKey(a){oe(a,13)===!0&&n.handler(a)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=R(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Be="89180c87ecdf4d6aaa7d23a3fd099b16",Pe="https://ath-gpt4-o-dev.openai.azure.com/openai/deployments/gpt-4o-std-240513/chat/completions?api-version=2024-02-15-preview",Te=le("vestStore",()=>{const e=f(null),t=f([]),n=f(!1),a=f("");return{vestibulares:e,simulado:t,error:n,errorMessage:a,gerarSimulado:async(y,r)=>{var s,m;try{const d={messages:[{role:"user",content:`Gerar simulado completo para o vestibular: ${y} com 8 quest\xF5es alternativas e de anos e n\xEDveis aleat\xF3rios, retornando um json com a seguinte estrutura: 
            simulado:{
              n\xFAmero da quest\xE3o;
              Ano de referencia: (Ex: ITA-2023);
              pergunta;
              alternativas: [];
              resposta correta;
              coment\xE1rio da resposta correta;
            };
            *importante, gere o total de quest\xF5es solicitadas, sem interrup\xE7\xE3o e retorne somente o json, sem mais coment\xE1rios`}],max_tokens:4e3},l=await qe.post(Pe,d,{headers:{"Content-Type":"application/json","api-key":Be}});console.log("Response Data:",l.data);let k;try{k=JSON.parse(l.data.choices[0].message.content)}catch{throw new Error("A resposta da API n\xE3o \xE9 um JSON v\xE1lido: "+l.data.choices[0].message.content)}if(Array.isArray(k.simulado))t.value=k.simulado.map(g=>({numero:g["n\xFAmero da quest\xE3o"],ano:g["Ano de referencia"],pergunta:g.pergunta,alternativas:g.alternativas,resposta:g["resposta correta"]}));else throw new Error("A resposta da API n\xE3o cont\xE9m um array 'simulado'")}catch(d){a.value=`C\xF3digo: ${((s=d.response)==null?void 0:s.status)||""}
Mensagem: ${((m=d.response)==null?void 0:m.statusText)||d.message}`,n.value=!0}}}});const Fe={setup(){const e=Te(),t=f(null),n=f([]),a=f([]),p=f([]),y=f(!1),r=f(!1),s=f(!1),m=f(null),d=[{label:"ENEM",value:"ENEM"},{label:"ITA",value:"ITA"},{label:"AFA",value:"AFA"},{label:"IME",value:"IME"},{label:"Fuvest",value:"Fuvest"},{label:"Unicamp",value:"Unicamp"}],l={ENEM:180,ITA:70,AFA:64,IME:80,Fuvest:90,Unicamp:72},k=async()=>{r.value=!0,s.value=!1,setTimeout(()=>{s.value=!0},6e4);const u=l[t.value];await e.gerarSimulado(t.value,u),n.value=e.simulado,a.value=Array(u).fill(null),r.value=!1},g=()=>{let u=0;n.value.forEach((v,E)=>{a.value[E]===v.resposta&&u++}),m.value=u,y.value=!0},M=(u,v)=>y.value?a.value[u]===v?v===n.value[u].resposta?"cyan":"red":v===n.value[u].resposta?"cyan":null:null,N=()=>{const u=document.querySelector(".simuladoPrint").innerHTML,v=window.open("","","width=800,height=600");v.document.write(`
          <html>
            <head>
              <title>Imprimir Simulado</title>
            </head>
            <body>
              ${u}
            </body>
          </html>
        `),v.document.close(),v.print()},Q=()=>{const u=document.querySelector(".gabaritoPrint").innerHTML,v=window.open("","","width=800,height=600");v.document.write(`
          <html>
            <head>
              <title>Imprimir Gabarito</title>
            </head>
            <body>
              ${u}
            </body>
          </html>
        `),v.document.close(),v.print()};return ne(()=>{t.value=e.vestibulares,n.value=e.simulado}),{vestibulares:t,simulado:n,respostas:a,respostasDissertativas:p,mostrarGabarito:y,loading:r,showAlternativeSpinner:s,options:d,gerarSimulado:k,corrigirSimulado:g,imprimirSimulado:N,imprimirGabarito:Q,acertos:m,getOptionColor:M}}},q=e=>(se("data-v-24d9e1e6"),e=e(),ie(),e),Ge={class:"register-page"},Le=q(()=>c("h3",null,"Gerador de Simulados",-1)),Ue=q(()=>c("br",null,null,-1)),ze=q(()=>c("span",null,"Selecione a prova que deseja:",-1)),De={class:"charts-container text-center"},je={key:0},Re={class:"result-container q-mt-xl"},Oe={class:"simuladoAcao"},Ke={key:0,class:"text-center"},He={key:0},Je=q(()=>c("div",{class:"text-h4"},"Aguarde mais um pouco, est\xE1 quase pronto",-1)),We={key:1},Ye=q(()=>c("div",{class:"text-h4"},"Gerando o simulado...",-1)),Xe={key:1},Ze={class:"simuladoPrint"},$e={key:0,class:"alternativas"},ea={key:1},aa=q(()=>c("h5",null,"Gabarito",-1)),ta={key:0},oa={class:"q-mt-md"};function la(e,t,n,a,p,y){return h(),_("div",Ge,[Le,Ue,ze,c("div",De,[b(Se,null,{default:S(()=>[b(j,{modelValue:a.vestibulares,"onUpdate:modelValue":t[0]||(t[0]=r=>a.vestibulares=r),options:a.options,type:"radio",class:"q-mb-xl",inline:""},null,8,["modelValue","options"]),b(V,{dense:"",class:"q-mr-md q-mb-xl",style:{width:"6em"},onClick:a.gerarSimulado,label:"Gerar",color:"primary"},null,8,["onClick"])]),_:1})]),a.simulado.length>0?(h(),_("h5",je,[w("Simulado "),c("b",null,x(a.vestibulares),1),w(":")])):I("",!0),c("div",Re,[c("div",Oe,[a.simulado.length>0?(h(),P(V,{key:0,dense:"",outline:"",class:"q-mb-xl q-mr-md",onClick:a.corrigirSimulado,label:"Corrigir Simulado",color:"primary"},null,8,["onClick"])):I("",!0),a.simulado.length>0?(h(),P(V,{key:1,dense:"",outline:"",class:"q-mb-xl",onClick:a.imprimirSimulado,label:"Imprimir Simulado",color:"secondary"},null,8,["onClick"])):I("",!0)]),a.loading?(h(),_("div",Ke,[a.showAlternativeSpinner?(h(),_("div",He,[Je,b(Qe,{class:"q-mt-md",size:"3em",color:"indigo"})])):(h(),_("div",We,[Ye,b(fe,{class:"q-mt-md",size:"3em",color:"indigo"})]))])):a.simulado.length>0?(h(),_("div",Xe,[c("div",Ze,[(h(!0),_(U,null,z(a.simulado,(r,s)=>(h(),P(D,{key:s,class:"q-ma-md",style:{"background-color":"transparent"}},{default:S(()=>[b(T,null,{default:S(()=>[c("div",null,[c("b",null,x(r.numero)+". ("+x(r.ano)+")",1),w(" "+x(r.pergunta),1)]),r.alternativas?(h(),_("div",$e,[b(j,{modelValue:a.respostas[s],"onUpdate:modelValue":m=>a.respostas[s]=m,options:r.alternativas.map(m=>({label:m,value:m})),type:"radio",color:a.getOptionColor(s,e.alt)},null,8,["modelValue","onUpdate:modelValue","options","color"])])):(h(),_("div",ea,[b(Ce,{filled:"",modelValue:a.respostasDissertativas[s],"onUpdate:modelValue":m=>a.respostasDissertativas[s]=m,type:"textarea",rows:"5"},null,8,["modelValue","onUpdate:modelValue"])]))]),_:2},1024)]),_:2},1024))),128))])])):I("",!0)]),b(_e,{modelValue:a.mostrarGabarito,"onUpdate:modelValue":t[1]||(t[1]=r=>a.mostrarGabarito=r)},{default:S(()=>[b(D,{class:"gabaritoPrint",style:{"background-color":"#0E2741",color:"#0086f3"}},{default:S(()=>[b(T,{class:"text-center"},{default:S(()=>[aa,a.acertos!==null?(h(),_("div",ta,"Voc\xEA acertou "+x(a.acertos)+" de "+x(a.simulado.length)+" quest\xF5es (Nota: "+x((a.acertos/a.simulado.length*10).toFixed(1))+")",1)):I("",!0)]),_:1}),b(T,null,{default:S(()=>[(h(!0),_(U,null,z(a.simulado,(r,s)=>(h(),_("div",{key:s},[c("div",oa,[c("b",null,x(r.numero)+".",1),w(" "+x(r.pergunta),1)]),c("div",null,[w("Resposta correta: "),c("b",null,x(r.resposta),1)])]))),128))]),_:1}),b(ye,{align:"right"},{default:S(()=>[re(b(V,{flat:"",label:"Fechar"},null,512),[[Ee]]),b(V,{flat:"",label:"Imprimir Gabarito",onClick:a.imprimirGabarito},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var va=de(Fe,[["render",la],["__scopeId","data-v-24d9e1e6"]]);export{va as default};
